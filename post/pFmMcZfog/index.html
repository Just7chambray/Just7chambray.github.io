
<!DOCTYPE html>
<html>
  <head>
    
<meta charset="utf-8" >

<title>Ubuntu å®šæ—¶å¤‡ä»½æ–‡ä»¶å¹¶ä¸Šä¼ è‡³é˜¿é‡Œäº‘OSS | å´ç³–å¯ä¹</title>
<meta name="description" content="">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://Just7chambray.github.io/favicon.ico?v=1748852079537">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://Just7chambray.github.io/styles/main.css">


  
    <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css" />
  

  


<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>



  </head>
  <body>
    <div id="app" class="main">
      <div class="site-header-container">
  <div class="site-header">
    <div class="left">
      <a href="https://Just7chambray.github.io">
        <img class="avatar" src="https://Just7chambray.github.io/images/avatar.png?v=1748852079537" alt="" width="32px" height="32px">
      </a>
      <a href="https://Just7chambray.github.io">
        <h1 class="site-title">å´ç³–å¯ä¹</h1>
      </a>
    </div>
    <div class="right">
      <transition name="fade">
        <i class="icon" :class="{ 'icon-close-outline': menuVisible, 'icon-menu-outline': !menuVisible }" @click="menuVisible = !menuVisible"></i>
      </transition>
    </div>
  </div>
</div>

<transition name="fade">
  <div class="menu-container" style="display: none;" v-show="menuVisible">
    <div class="menu-list">
      
        
          <a href="/" class="menu purple-link">
            é¦–é¡µ
          </a>
        
      
        
          <a href="/archives" class="menu purple-link">
            å½’æ¡£
          </a>
        
      
        
          <a href="/tags" class="menu purple-link">
            æ ‡ç­¾
          </a>
        
      
        
          <a href="https://Just7chambray.github.io/post/gallery" class="menu purple-link">
            å›¾å»Š
          </a>
        
      
        
          <a class="menu purple-link" href="https://wuxinyi.notion.site/Python-e4c8a37db48b4565b2a35b5db5216819" class="menu" target="_blank">
            Python
          </a>
        
      
        
          <a href="http://Just7chambray.github.io/post/about" class="menu purple-link">
            å…³äº
          </a>
        
      
    </div>
  </div>
</transition>


      <div class="content-container">
        <div class="post-detail">
          
          <h2 class="post-title">Ubuntu å®šæ—¶å¤‡ä»½æ–‡ä»¶å¹¶ä¸Šä¼ è‡³é˜¿é‡Œäº‘OSS</h2>
          <div class="post-info post-detail-info">
            <span><i class="icon-calendar-outline"></i> 2023-05-09</span>
            
              <span>
                <i class="icon-pricetags-outline"></i>
                
                  <a href="https://Just7chambray.github.io/tag/vFqmDBjhB/">
                    ç§‘æŠ€
                    
                      ï¼Œ
                    
                  </a>
                
                  <a href="https://Just7chambray.github.io/tag/TILESCRKuS/">
                    æ•ˆç‡
                    
                  </a>
                
              </span>
            
          </div>
          <div class="post-content">
            <h1 id="èµ·å› ">èµ·å› </h1>
<p>æœ¬æ¥æ²¡æ›¾æƒ³ç€è¦å¤‡ä»½æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶ï¼Œç„¶è€Œç»„é‡Œå¦ä¸€å°æœåŠ¡å™¨ä¸çŸ¥é“å’‹çš„çªç„¶å¯åŠ¨ç›˜åäº†ï¼Œä¸€æ–¹é¢åº†å¹¸è‡ªå·±ç”¨çš„é‚£å°è¿˜å®‰å¥½ï¼Œå¦ä¸€æ–¹é¢çªç„¶äº§ç”Ÿäº†å¿§æ‚£æ„è¯†ï¼Œä¸‡ä¸€æˆ‘çš„ä»£ç è·‘ç€è·‘ç€æœåŠ¡å™¨åäº†å’‹æ•´ï¼Œäºæ˜¯å°±æƒ³ç€è¦å¯¹ä»£ç æ–‡ä»¶è¿›è¡Œå®šæœŸå¤‡ä»½ã€‚</p>
<p>ä¸€å¼€å§‹é—®äº†æœ‹å‹ï¼Œæ¨èäº†rsyncï¼Œä½†åæ¥ä¸€æœç´¢æ„Ÿè§‰æ›´é€‚åˆä¸¤ä¸ªæœåŠ¡å™¨ä¹‹é—´ä¼ è¾“ï¼Œå¦‚æœæƒ³é€šè¿‡rsyncå°†æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶å¤‡ä»½åˆ°æœ¬åœ°windowsç”µè„‘ä¸Šï¼Œè¿˜éœ€è¦åœ¨Windowsä¸Šä¸‹è½½é¢å¤–çš„è½¯ä»¶æ‰è¡Œï¼›åé¢åœ¨æœç´¢æ—¶å‘ç°æœ‰äººåˆ†äº«æŠŠå¤‡ä»½æ–‡ä»¶ä¸Šä¼ åˆ°é˜¿é‡Œäº‘ossä¸Šï¼Œæƒ³åˆ°è‡ªå·±åæ­£ä¹°äº†ossé‚£å°±è¿™æ ·å¤‡ä»½ï¼</p>
<h1 id="æ­¥éª¤">æ­¥éª¤</h1>
<ol>
<li>
<p>åœ¨ossä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„Bucketï¼ˆåœ¨å¾ˆå¤šæ•™ç¨‹é‡Œçœ‹åˆ°æœ€å¥½é€‰æ‹©åŒåŸåœ°åŸŸã€ç§æœ‰è¯»å–ï¼‰</p>
</li>
<li>
<p>åœ¨æœåŠ¡å™¨ä¸Šä¸‹è½½å¹¶å®‰è£…ossutilå·¥å…·</p>
<p>ã€Œå®éªŒå®¤æœåŠ¡å™¨åŸºæœ¬ä¿¡æ¯ã€</p>
<ul>
<li>
<p>Ubuntu 20.04.4 LTS (GNU/Linux 5.15.0-69-generic x86_64)</p>
</li>
<li>
<p>16  11th Gen Intel(R) Core(TM) i9-11900K @ 3.50GHz</p>
</li>
</ul>
<p>å¯ä»¥å‚è€ƒ<a href="https://help.aliyun.com/document_detail/50452.html">å®˜æ–¹é“¾æ¥</a></p>
<p><code>sudo -v ; curl https://gosspublic.alicdn.com/ossutil/install.sh | sudo bash</code></p>
</li>
<li>
<p>é…ç½®ossutil</p>
<ol>
<li>
<p>è¾“å…¥é…ç½®å‘½ä»¤</p>
<p><code>ossutil config</code></p>
</li>
<li>
<p>æ ¹æ®æç¤ºè®¾ç½®é…ç½®æ–‡ä»¶è·¯å¾„</p>
<p>æ–‡ä»¶åå¯ä»¥å¸¦è·¯å¾„ï¼Œé»˜è®¤ä¸ºï¼š/home/user/.ossutilconfigï¼Œå›è½¦å°†ä½¿ç”¨é»˜è®¤è·¯å¾„ã€‚ä½†æ˜¯æˆ‘è¿˜æ˜¯è‡ªå®šä¹‰äº†ï¼Œä½†æ˜¯è¿™æ¥ä¸‹æ¥ä½¿ç”¨çš„æ—¶å€™ä¼šæ¯”è¾ƒéº»çƒ¦ã€‚</p>
<p><code>/home/newdisk/wxy/ossutil/.ossutilconfig</code></p>
<p><code>[Credentials] language=EN # é»˜è®¤è¯­è¨€æ˜¯è‹±æ–‡ accessKeyID=replace_your_own_accessKeyID endpoint=https://oss-cn-shenzhen.aliyuncs.com # å¡«å†™Bucketæ‰€åœ¨åœ°åŸŸçš„Endpoint accessKeySecret=ns8AQC0gN48I2C9YayD261KGdKXfL7v</code></p>
<p>endpoint<a href="https://help.aliyun.com/document_detail/31837.htm?spm=a2c4g.474474.0.0.63ae7786bwSmkb#concept-zt4-cvy-5db">åœ¨è¿™æ‰¾</a></p>
</li>
</ol>
</li>
<li>
<p>ç¼–å†™å¤‡ä»½è„šæœ¬</p>
<p>æˆ‘çš„è·¯å¾„<code>vim /home/newdisk/wxy/backup4tep.sh</code></p>
<pre><code class="language-bash">#!/bin/sh
echo &quot;å¯åŠ¨å¤‡ä»½è„šæœ¬...&quot;

# ä¸´æ—¶ç›®å½•
tmpDir=/home/newdisk/wxy/backup4tep # è¿™é‡Œå†™ä½ æƒ³è¦åˆ›å»ºçš„ä¸´æ—¶ç›®å½•çš„ç»å¯¹è·¯å¾„

# åˆ›å»ºä¸´æ—¶ç›®å½•
mkdir $tmpDir

now=$(date +&quot;%Y%m%d%H&quot;) # ç°åœ¨æ—¶é—´

# æ–‡ä»¶åå‰ç¼€
fileNamePrefix=tepenv-backup #è¿™é‡Œå†™ä½ çš„æ–‡ä»¶åå‰ç¼€
# æ–‡ä»¶åï¼Œæ ¼å¼ï¼šå‰ç¼€+æ—¶é—´ï¼Œå¦‚ï¼štepenv-backup-2021011521.tar.gz
fileName=$fileNamePrefix-$now.tar.gz
filePath=$tmpDir/$fileName

# å¤‡ä»½æ–‡ä»¶åœ¨OSSä¸Šçš„å­˜å‚¨è·¯å¾„
ossDir=oss://backup4tep # è¿™é‡Œè¾“å…¥ä½ OSSä¸Šçš„å­˜å‚¨è·¯å¾„

echo &quot;æ­£åœ¨æ‰“åŒ… $filePath ...&quot;

tar -zcvf $filePath /home/newdisk/wxy/anaconda3/envs/pytep/lib/python3.7/site-packages/gym #è¿™ä¸ªè·¯å¾„å†™ä½ è¦å¤‡ä»½çš„æ–‡ä»¶è·¯å¾„

echo &quot;å¼€å§‹ä¸Šä¼  $fileName åˆ°OSS&quot;

ossutil64 -c /home/newdisk/wxy/ossutil/.ossutilconfig cp $filePath $ossDir/$fileName

echo &quot;åˆ é™¤æœ¬åœ°ä¸´æ—¶æ‰“åŒ…æ–‡ä»¶ $fileName&quot;
rm -rf $filePath

echo &quot;å¤‡ä»½å®Œæ¯•&quot;
</code></pre>
<p>è¿™é‡Œæœ‰ä¸€å¤„éº»çƒ¦çš„åœ°æ–¹å°±æ˜¯æˆ‘å‰é¢çš„é…ç½®æ–‡ä»¶æ˜¯è‡ªå®šä¹‰çš„ï¼Œæ‰€ä»¥æˆ‘åœ¨ä½¿ç”¨çš„æ—¶å€™æ¯æ¬¡éœ€è¦å¢åŠ **-c**é€‰é¡¹æŒ‡å®šé…ç½®æ–‡ä»¶çš„è·¯å¾„ï¼Œç„¶ååé¢åŠ ä¸Šå‘½ä»¤</p>
<p><code>ossutil64 -c /home/newdisk/wxy/ossutil/.ossutilconfig</code></p>
</li>
<li>
<p>é…ç½®å®šæ—¶ä»»åŠ¡</p>
<ol>
<li>
<p>ä½¿ç”¨ crontabs å®šæ—¶æ‰§è¡Œè„šæœ¬</p>
<p><code>crontab -e </code></p>
<p><code>30 04 * * * /home/newdisk/wxy/backup4tep.sh</code></p>
</li>
<li>
<p>æœŸé—´é‡åˆ°çš„é—®é¢˜ï¼šåœ¨è¾“å…¥<code>crontab -e</code> æ—¶è·³å‡º<code>no crontab for wxy crontab - using an empty one</code>ï¼Œå…¶å®å½’ç»“äºç¼–è¾‘å™¨çš„é€‰æ‹©ï¼Œè¾“å…¥<code>export EDITOR=vim</code>å°±å¯ä»¥</p>
</li>
</ol>
</li>
</ol>
<p>å‚è€ƒğŸ”—ï¼š</p>
<p>[1]https://suimz.com/post/6.html</p>
<p>[2] https://help.aliyun.com/document_detail/50451.html?spm=a2c4g.474474.0.0.63ae7786bwSmkb</p>

          </div>
        </div>

        
          <div class="next-post">
            <a class="purple-link" href="https://Just7chambray.github.io/post/goodbye/">
              <h3 class="post-title">
                ä¸‹ä¸€ç¯‡ï¼šå¦‚æœå†ä¹Ÿè§ä¸åˆ°äº†ï¼Œä¹Ÿå¯ä»¥è¯´å†è§å—
              </h3>
            </a>
          </div>
          
      </div>

      
        
          <div id="gitalk-container"></div>
        

        
      

      <div class="site-footer">
  <div class="slogan"></div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | <a class="rss" href="https://Just7chambray.github.io/atom.xml" target="_blank">RSS</a>
</div>


    </div>
    <script type="application/javascript">

hljs.initHighlightingOnLoad()

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>



  
    <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
    <script>

      var gitalk = new Gitalk({
        clientID: '',
        clientSecret: '',
        repo: '',
        owner: '',
        admin: [''],
        id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
        distractionFreeMode: false  // Facebook-like distraction free mode
      })

      gitalk.render('gitalk-container')

    </script>
  

  




  </body>
</html>
